From fd1144ab4c9384996f272688adc13ff619185732 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Tr=E1=BA=A7n=20Ho=C3=A0ng=20Huy?= <fxhuytran99@gmail.com>
Date: Wed, 24 Feb 2021 21:04:19 +0700
Subject: [PATCH] update comment

---
 .../activities/sign_in/SignInActivity.java           |  5 +++++
 .../activities/sign_in/SignInViewModel.java          |  4 ++++
 .../activities/sign_up/SignUpActivity.java           |  3 +++
 .../activities/sign_up/SignUpViewModel.java          |  4 +++-
 .../smokingcontrolapp/firebase/Authentication.java   |  3 ++-
 .../demo/smokingcontrolapp/firebase/Database.java    | 12 +++---------
 .../java/com/demo/smokingcontrolapp/utils/Utils.java |  5 +++++
 7 files changed, 25 insertions(+), 11 deletions(-)

diff --git a/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_in/SignInActivity.java b/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_in/SignInActivity.java
index 7e1ab4f..5ba56c6 100644
--- a/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_in/SignInActivity.java
+++ b/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_in/SignInActivity.java
@@ -34,6 +34,7 @@ public class SignInActivity extends AppCompatActivity {
         event();
     }
 
+    // even click
     private void event() {
         btnLogin.setOnClickListener(v -> {
             progressBar.setVisibility(View.VISIBLE);
@@ -51,6 +52,7 @@ public class SignInActivity extends AppCompatActivity {
         });
     }
 
+    //init view
     private void initFlateView() {
         edEmail = findViewById(R.id.etUsername);
         edPassword = findViewById(R.id.etPassword);
@@ -64,14 +66,17 @@ public class SignInActivity extends AppCompatActivity {
         inputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), 0);
     }
 
+    // go to create new account screen
     public void goToSignUp(View view) {
         this.startActivity(new Intent(this, SignUpActivity.class));
     }
 
+    // go to forgotPass screen
     public void goToForgotPassword(View view) {
         startActivity(new Intent(this, ForgotPasswordActivity.class));
     }
 
+    // ho to Home screen
     public void goToActivityMain(View view) {
         startActivity(new Intent(this, HomeActivity.class));
     }
diff --git a/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_in/SignInViewModel.java b/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_in/SignInViewModel.java
index 4232198..f0c5607 100644
--- a/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_in/SignInViewModel.java
+++ b/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_in/SignInViewModel.java
@@ -27,6 +27,8 @@ class SignInViewModel extends AndroidViewModel {
         super(application);
         authentication = new Authentication();
     }
+
+    // login with email, pass
     public void signIn(EditText edEmail, EditText edPassword , SignUpViewModel.ISignUpViewModel viewModel) {
         String email = edEmail.getText().toString().trim();
         String password = edPassword.getText().toString().trim();
@@ -52,6 +54,8 @@ class SignInViewModel extends AndroidViewModel {
             edPassword.requestFocus();
             return;
         }
+
+        // login
         authentication.loginUser(email, password, viewModel::onResult);
     }
 
diff --git a/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_up/SignUpActivity.java b/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_up/SignUpActivity.java
index 5383763..e7806ad 100644
--- a/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_up/SignUpActivity.java
+++ b/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_up/SignUpActivity.java
@@ -29,6 +29,8 @@ public class SignUpActivity extends AppCompatActivity {
         inflateView();
         event();
     }
+
+    //init view
     private void inflateView() {
         signUpViewModel = new SignUpViewModel(getApplication());
         userName =(EditText) findViewById(R.id.etUserName);
@@ -39,6 +41,7 @@ public class SignUpActivity extends AppCompatActivity {
         progresbar = findViewById(R.id.progress_bar);
     }
 
+//    event click
     private void event() {
         btNext.setOnClickListener(v -> {
             progresbar.setVisibility(View.VISIBLE);
diff --git a/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_up/SignUpViewModel.java b/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_up/SignUpViewModel.java
index 578d044..fe4992a 100644
--- a/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_up/SignUpViewModel.java
+++ b/app/src/main/java/com/demo/smokingcontrolapp/activities/sign_up/SignUpViewModel.java
@@ -27,6 +27,8 @@ public class SignUpViewModel  extends AndroidViewModel {
         super(application);
         authentication = new Authentication();
     }
+
+    // register new account
     public void register(EditText userName, EditText email, EditText password, EditText phoneNumber, ISignUpViewModel viewModel) {
         String t_userName = userName.getText().toString().trim();
         String t_email = email.getText().toString().trim();
@@ -62,7 +64,7 @@ public class SignUpViewModel  extends AndroidViewModel {
             email.requestFocus();
             return;
         }
-
+        // create new account with email and pass
         authentication.registerUser(t_email, t_userName, t_password, t_phoneNumber, viewModel::onResult);
     }
 
diff --git a/app/src/main/java/com/demo/smokingcontrolapp/firebase/Authentication.java b/app/src/main/java/com/demo/smokingcontrolapp/firebase/Authentication.java
index fc13bd7..467cb4d 100644
--- a/app/src/main/java/com/demo/smokingcontrolapp/firebase/Authentication.java
+++ b/app/src/main/java/com/demo/smokingcontrolapp/firebase/Authentication.java
@@ -17,7 +17,7 @@ public class Authentication {
         mAuth = FirebaseAuth.getInstance();
     }
 
-
+    // create new account with email and pass
     public void registerUser(String t_email, String t_userName, String t_password, String t_phoneNumber, IFirebaseAuthentication onResult) {
         mAuth.createUserWithEmailAndPassword(t_email, t_password)
                 .addOnCompleteListener(task -> {
@@ -30,6 +30,7 @@ public class Authentication {
                 });
     }
 
+    // login with mail and pass
     public  void loginUser(String email,String password, IFirebaseAuthentication authentication){
         mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(task -> authentication.onResult(task.isSuccessful()));
     }
diff --git a/app/src/main/java/com/demo/smokingcontrolapp/firebase/Database.java b/app/src/main/java/com/demo/smokingcontrolapp/firebase/Database.java
index ddad193..fd9df1b 100644
--- a/app/src/main/java/com/demo/smokingcontrolapp/firebase/Database.java
+++ b/app/src/main/java/com/demo/smokingcontrolapp/firebase/Database.java
@@ -1,7 +1,6 @@
 package com.demo.smokingcontrolapp.firebase;
 
 import android.os.Build;
-import android.util.Log;
 import androidx.annotation.NonNull;
 import androidx.annotation.RequiresApi;
 import com.demo.smokingcontrolapp.models.Target;
@@ -10,10 +9,10 @@ import com.google.firebase.database.DatabaseError;
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.ValueEventListener;
-
 import java.util.ArrayList;
 import java.util.List;
 
+// get value in firebase database
 public class Database {
 
     // add new target
@@ -33,12 +32,10 @@ public class Database {
             @RequiresApi(api = Build.VERSION_CODES.N)
             @Override
             public void onDataChange(@NonNull DataSnapshot snapshot) {
-                Log.d("THIEN", "onDataChange: " + snapshot.getValue().toString());
                 List<Target> targetList = new ArrayList<>();
                 snapshot.getChildren().forEach(dataSnapshot -> {
                     Target target = dataSnapshot.getValue(Target.class);
                     targetList.add(target);
-                    Log.d("TAG", "onDataChange: ");
                 });
                 iFirebaseGetAllTarget.onResult(targetList);
             }
@@ -50,7 +47,7 @@ public class Database {
         });
     }
 
-
+    // get all achievement
     public void getAllAchievement(String uid, IFirebaseGetAllAchievement iFirebaseGetAllAchievement) {
         FirebaseDatabase db = FirebaseDatabase.getInstance();
         DatabaseReference reference = db.getReference("Targets").child(uid);
@@ -59,10 +56,10 @@ public class Database {
             @RequiresApi(api = Build.VERSION_CODES.N)
             @Override
             public void onDataChange(@NonNull DataSnapshot snapshot) {
-                Log.d("THIEN", "onDataChange: " + snapshot.getValue().toString());
                 List<Target> targetList = new ArrayList<>();
                 snapshot.getChildren().forEach(dataSnapshot -> {
                     Target target = dataSnapshot.getValue(Target.class);
+                    assert target != null;
                     if (target.getCountOfCigarette() >= target.getCountOfCigaretteSmoked()) {
                         targetList.add(target);
                     }
@@ -78,13 +75,10 @@ public class Database {
     }
 
 
-
-
     public interface IFirebaseGetAllAchievement {
         void onResult(List<Target> targetList);
     }
 
-
     public interface IFirebaseAddNewTarget {
         void onResult(Boolean bool);
     }
diff --git a/app/src/main/java/com/demo/smokingcontrolapp/utils/Utils.java b/app/src/main/java/com/demo/smokingcontrolapp/utils/Utils.java
index 4ea7d6b..d047ab4 100644
--- a/app/src/main/java/com/demo/smokingcontrolapp/utils/Utils.java
+++ b/app/src/main/java/com/demo/smokingcontrolapp/utils/Utils.java
@@ -1,4 +1,9 @@
 package com.demo.smokingcontrolapp.utils;
 
 public class Utils {
+
+    //save info of user: uid, email
+    public void saveUserInfo(){
+
+    }
 }
-- 
2.29.2.windows.2

